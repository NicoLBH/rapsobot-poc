/* (le fichier est long — colle exactement ce contenu) */
:root{
  --bg:#0d1117;
  --panel2:#161b22;
  --headbg:rgb(1, 4, 9);
  --headbgtight:rgb(21,27,35);
  --text:#c9d1d9;
  --muted:#8b949e;
  --btn-muted:rgba(255, 255, 255, 0.4);
  --border:#30363d;
  --border2:#21262d;
  --accent:#58a6ff;
  --danger:#f85149;
  --success:#3fb950;
  --fgColor-open:rgb(63, 185, 80);
  --fgColor-closed:rgb(171, 125, 248);
  --fgColor-done:rgb(171, 125, 248);

  --radius:6px;
  --radius2:10px;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  --header-h:64px;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{margin:0;background:var(--bg);color:var(--text);font-family:var(--font);overflow:hidden;}
.mono{font-family:var(--mono);line-height:14px;}

/* ===== Top header ===== */
.gh-header{
  position:fixed;top:0;left:0;right:0;z-index:10;
  height:var(--header-h);
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  background:var(--headbg);
  border-bottom:1px solid var(--border);
}
.gh-header__left{display:flex;align-items:center;gap:12px;min-width:0;justify-self:start;}
.gh-header__center{justify-self:center;}
.gh-header__right{justify-self:end;display:flex;align-items:center;justify-content:space-between;gap:12px;min-width:0;}
.gh-header__right-mid{display:flex;align-items:center;gap:10px;flex:0 0 auto;}
.gh-header__right-end{display:flex;align-items:center;justify-content:flex-end;flex:0 0 auto;}

/* header right replaced below */

.gh-brand{
  display:inline-flex;align-items:center;gap:10px;
  color:var(--text);text-decoration:none;min-width:0;
}
.gh-brand__logo{
  width:34px;
  height:34px;
  border-radius:8px;
  background:transparent;
  padding:0;
  object-fit:contain;
  /* améliore la lisibilité du blanc sur fond noir */
  filter: drop-shadow(0 0 6px rgba(0,0,0,.6));
}
.gh-brand__name{font-weight:700;}
.gh-brand__sep{color:var(--muted);}
.gh-brand__repo{color:var(--muted);}

/* system status */
.sys-status{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid var(--border);
  background:var(--panel2);
  font-size:12px;color:var(--muted);white-space:nowrap;
}
.sys-status__dot{width:10px;height:10px;border-radius:999px;background:var(--muted);}
.sys-status__label{color:var(--text);}
.sys-status__meta{color:var(--muted);}

/* Buttons / Inputs */
.gh-btn{
  border:1px solid var(--border);
  background:var(--panel2);
  color:var(--text);
  padding:6px 12px;border-radius:var(--radius);
  cursor:pointer;font-size:13px;
}
.gh-btn:hover{border-color:#6e7681;}
.gh-btn--primary{
  background:var(--success);
  border-color:rgba(0,0,0,.2);
  color:#0d1117;font-weight:700;
}
.gh-btn--primary:hover{filter:brightness(.95);}

/* Comment button (green background, muted text when disabled) */
.gh-btn--comment{background:var(--success);border-color:rgba(0,0,0,.2);color:#fff;font-weight:700;}
.gh-btn--comment.is-disabled{color:var(--btn-muted);cursor:not-allowed;}
.gh-btn--comment:disabled{opacity:1;}
.gh-btn--sm{padding:4px 10px;font-size:12px;}

.icon-btn{
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  border-radius:var(--radius);
  padding:6px 10px;
  cursor:pointer;
  font-size:14px;
  line-height:1;
}
.icon-btn:hover{border-color:#6e7681;}

.gh-input{
  width:100%;
  padding:7px 10px;border-radius:var(--radius);
  border:1px solid var(--border);
  background:var(--bg);color:var(--text);
  outline:none;font-size:13px;
}
.gh-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,.15);}
.gh-input--sm{padding:5px 8px;font-size:12px;}

.gh-field{display:flex;flex-direction:column;gap:6px;}
.gh-field__label{font-size:12px;color:var(--muted);margin-top:8px;}
.gh-field__help{font-size:11px;color:var(--muted);}

/* Layout */
.gh-page{
  position:fixed;
  top:var(--header-h);
  left:0;
  right:0;
  bottom:0;
  width:100%;
  max-width:none;
  margin:0;
  padding:16px;
  display:grid;
  gap:16px;
  overflow:hidden;
}
.gh-page--3col{column-gap: 6px;grid-template-columns: 340px 1fr 0px var(--rightW, 420px);}
@media (max-width:900px){ .gh-page--3col{grid-template-columns:1fr;} }

/* Sidebar collapsed */
body.sidebar-collapsed .gh-page--3col{grid-template-columns:0px 1fr 1px var(--rightW, 420px);}
body.sidebar-collapsed .gh-page{padding-left: 58px;}
body.sidebar-collapsed #sidebar{overflow:hidden;width:0;min-width:0;padding:0;margin:0;}

/* Floating sidebar toggle (relative to <main>, not fixed) */
.sidebar-fab{
  position:absolute;
  top:16px;
  left:16px;
  z-index:30;
  padding:8px 12px;
}
body:not(.sidebar-collapsed) .sidebar-fab{display:none;}

/* Panels */
.gh-panel{background:transparent;border:1px solid var(--border);border-radius:var(--radius2);}
.gh-panel--results{border:none;border-radius:var(--radius);}
.gh-panel--details{min-width:320px;border-radius:var(--radius);container-type:inline-size;}

/* Fixed columns + internal scroll areas */
.gh-panel,
.gh-sidebar{display:flex;flex-direction:column;min-height:0;height:100%;}

.gh-sidebar{overflow:auto;}

.gh-panel__head{flex:0 0 auto;}
#issuesTable{flex:1 1 auto;min-height:0;overflow:hidden;margin-top:16px;}
.details-body{flex:1 1 auto;min-height:0;overflow:auto;}

.gh-panel__head{
  padding:12px;
  border-bottom:1px solid var(--border);
  border-top-left-radius:inherit;
  border-top-right-radius:inherit;
}
.gh-panel__head--tight{padding-bottom:10px;background:var(--headbgtight);}

/* No background on details heads (panel, modal, drilldown overlay) */
.gh-panel--details .gh-panel__head,
.gh-panel--details .gh-panel__head--tight,
.modal__head,
.drilldown__head{
  background:transparent !important;
}

/* Middle only: head without background + bordered */
.gh-panel--results .gh-panel__head--tight{background:transparent;border:1px solid var(--border);border-bottom:1px solid var(--border);border-radius:var(--radius);}
.gh-panel--results .gh-panel__head:not(.gh-panel__head--tight){border-bottom:none;}
.gh-panel__title{margin:0;font-size:14px;font-weight:700;}

/* Sidebar */
.gh-sidebar{background:transparent;border:none;border-radius:0;margin-right:6px;}
.gh-sidebar__head{
  display:flex;align-items:center;justify-content:space-between;
  gap:10px;border-radius:0;border:none;
}
.sidebar-head-left{display:flex;align-items:center;gap:10px;}
.gh-sidebar__section{padding:12px 0;}
.gh-sidebar__sectionTitle{padding:0 0 10px;font-size:12px;color:var(--muted);font-weight:600;}
.gh-sidebar__divider{height:1px;background:var(--border);}

.gh-actions{display:flex;align-items:center;gap:10px;}
.gh-actions--sidebar{padding:0;}
.gh-meta{font-size:12px;color:var(--muted);}

.gh-alert{
  margin-top:10px;padding:10px 12px;border-radius:var(--radius);
  border:1px solid var(--border);font-size:13px;
}
.gh-alert--error{border-color:rgba(248,81,73,.6);background:rgba(248,81,73,.08);color:#ffdcd7;}
.hidden{display:none;}

/* Filters */
.gh-filters{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
.gh-filter{display:inline-flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);}

/* Head lines */
.issues-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;}
.issues-totals{font-size:12px;color:var(--muted);white-space:nowrap;}
.details-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;}
.details-head-left{display:flex;flex-direction:column;gap:2px;min-width:0;}
.details-head-right{display:flex;align-items:center;gap:10px;}
.details-kicker{font-size:11px;color:var(--muted);letter-spacing:.08em;display:none;}
.details-meta{font-size:12px;color:var(--muted);white-space:nowrap;display:none;}
.details-body{padding:12px;}

.icon-btn--sm{padding:6px 10px;font-size:13px;}

/* Details fullscreen modal */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.55);
  z-index:50;
  display:flex;
}
.modal.hidden{display:none;}
.modal__inner{
  width:100%;
  margin:0;
  display:flex;
  flex-direction:column;
  background:var(--bg);
}
.modal__head{
  display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
  padding:12px 16px;
  border-bottom:1px solid var(--border);
  background:var(--headbg);
}
.modal__head-left{display:flex;flex-direction:column;gap:2px;min-width:0;margin-right: auto;margin-left: auto;padding-right: 24px;padding-left: 24px;width: 100%;max-width: 1280px;}
.modal__title{font-size:16px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.modal__head-right{display:flex;align-items:center;gap:10px;}
.modal__body{
  padding:0;
  overflow:auto;
  height:calc(100vh - 52px); /* approx header + topbar */
  overflow-y:auto;
  overflow-x:hidden;
  width:100%;
  max-width:none;
  margin:0;
}

/* Keep modal content centered while the scrollbar stays at the window edge */
#detailsBodyModal{
  width:100%;
  max-width:1280px;
  margin:0 auto;
  padding:16px 24px;
}

/* Middle list lines */
.emptyState{padding:20px 20px;color:var(--muted);font-size:13px;}
.mid-wrap{padding:10px 12px;}
.mid-block{margin-bottom:10px;}
.line{
  display:flex;align-items:center;gap:10px;
  padding:6px 0;
  border-bottom:1px solid rgba(48,54,61,.35);
}
.line:last-child{border-bottom:none;}
.line-left{display:flex;align-items:center;gap:10px;min-width:0;flex:1;}
.line-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.line-meta{display:flex;align-items:center;gap:10px;color:var(--muted);font-size:12px;white-space:nowrap;}
.chev{width:16px;text-align:center;color:var(--muted);user-select:none;}
.click{cursor:pointer;}
.click:hover{opacity:.95;}

/* Badges */
.badge{
  display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;
  border:1px solid var(--border);background:rgba(110,118,129,.12);
  font-size:12px;color:var(--muted);white-space:nowrap;
}
.badge--p1{color:#ffdcd7;border-color:rgba(248,81,73,.45);background:rgba(248,81,73,.12);}
.badge--p2{color:#ffe7b3;border-color:rgba(210,153,34,.55);background:rgba(210,153,34,.12);}
.badge--p3{color:#c7f0d8;border-color:rgba(63,185,80,.45);background:rgba(63,185,80,.12);}
.badge--ko{color:#ffdcd7;border-color:rgba(248,81,73,.45);background:rgba(248,81,73,.10);}
.badge--ok{color:#c7f0d8;border-color:rgba(63,185,80,.45);background:rgba(63,185,80,.10);}
.badge--av{color:#c9d1d9;border-color:rgba(88,166,255,.40);background:rgba(88,166,255,.08);}

/* Avis header + table only */
.avis-header{
  margin:6px 0 10px;
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
}
.avis-header table{width:100%;border-collapse:collapse;}
.avis-header th{
  padding:8px 10px;
  font-size:12px;color:var(--muted);
  background:rgba(22,27,34,.8);
  border-bottom:1px solid var(--border2);
  text-align:left;
}
.avis-table{width:100%;border-collapse:collapse;border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;}
.avis-table td{
  padding:8px 10px;
  border-bottom:1px solid var(--border2);
  vertical-align:top;
}
.avis-table tr:last-child td{border-bottom:none;}
.avis-table tr:hover td{background:transparent;}
.ticket-msg{white-space:pre-wrap;}

/* Right panel: GitHub-issue-like thread + comment box */
.hr{height:1px;background:var(--border);margin:14px 0;}
.kv{display:grid;grid-template-columns:110px 1fr;gap:6px 10px;align-items:start;}
.kv .k{color:var(--muted);font-size:12px;}
.kv .v{font-size:13px;}
.mono-small{font-family:var(--mono);font-size:12px;color:var(--muted);}

/* Right panel body: responsive 2-col grid (main + metadata) */
.details-grid{
  display:grid;
  grid-template-columns:minmax(0, 1fr) minmax(256px, 296px);
  gap:16px;
  align-items:stretch;
  margin-top:10px;
  min-height:100%;
}
.details-main{min-width:0;}
.details-meta-col{
  /* GitHub-like sidebar card */
  border-radius:var(--radius);
  padding:16px;
  height:100%;
  overflow:auto;
  margin-left:52px;
}
.meta-title{
  font-size:16px;
  color:#fff;
  font-weight:600;
  margin-bottom:12px;
  letter-spacing:.02em;
}
.meta-item{margin-bottom:10px;border-bottom: solid 1px var(--border);padding-bottom: 16px;}
.meta-item:last-child{margin-bottom:0;}
.meta-k{font-size:12px;color:var(--muted);font-weight: 600;}
.meta-v{font-size:13px;margin-top:2px;word-break:break-word;color: var(--muted);font-weight: 400;}

/* When the right panel is narrow, stack metadata under main */
@container (max-width: 750px){
  .details-grid{grid-template-columns:1fr;}
}

.thread{display:flex;flex-direction:column;gap:12px;}
.thread-item{position:relative;overflow:hidden;padding-top:20px;padding-left:40px;}
.thread-item::before{content: "";position: absolute;left: 20px;top: 0px;bottom: 0px;width: 2px;background: rgba(48, 54, 61, 0.9);z-index: -1000;pointer-events: none;}
.thread-item.thread-item--comment:first-child::before{display:block;}
.thread-item--comment .thread-wrapper{width:100%;}
.thread-item--comment--flush{padding-left:0px;margin-left:-52px;}
.thread-item--comment--flush::before{padding-left:0px;left:72px;top:0px;height:30px;}
.thread-item--comment--flush .thread-badge__subissue{display:none;}
.thread-item--comment .thread-badge__subissue{margin-top:4px;}

.thread-badge__subissue{color:rgb(145, 152, 161);background-color:rgb(33, 40, 48);border:solid 2px rgb(13, 17, 23);height:32px;width:32px;align-items:center;box-sizing:border-box;line-height:21px;border-radius:32px;display:inline-block;vertical-align:top;margin-left:-36px;padding-left:6px;}
.thread-wrapper{width:80%;line-height:21px;display:inline-block;vertical-align:top;}
.thread-item__head{padding:0px 12px;font-size:12px;color:var(--muted);}
.thread-item__body{padding:0px 12px;font-size:13px;}

.comment-box{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-top:10px;}
.comment-tabs{display:flex;gap:0;border-bottom:1px solid var(--border2);background:rgba(22,27,34,.6);}
.comment-tab{border:none;background:transparent;color:var(--muted);padding:8px 12px;cursor:pointer;font-size:13px;}
.comment-tab[aria-selected="true"]{color:var(--text);font-weight:700;}
.comment-editor{padding:0px;}
.textarea{width:100%;min-height:120px;resize:vertical;padding:0px;border-radius:var(--radius);border:none;background:var(--bg);color:var(--text);font-size:13px;outline:none;padding:10px 12px;}
.textarea:focus{box-shadow:none;border:none;padding:10px 12px;}
.comment-preview{border:1px solid var(--border);border-radius:var(--radius);padding:10px 12px;min-height:120px;background:rgba(22,27,34,.25);}
.actions-row{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}

.gh-btn--success{background:rgba(63,185,80,.12);border-color:rgba(63,185,80,.35);}
.gh-btn--danger{background:rgba(248,81,73,.10);border-color:rgba(248,81,73,.35);}
.gh-btn--neutral{background:rgba(88,166,255,.08);border-color:rgba(88,166,255,.35);}

/* Footer */
.gh-counts{font-size:12px;color:var(--muted);}
.gh-pagination{display:inline-flex;align-items:center;gap:10px;}

/* === Disable background scroll when modal is open === */
body.modal-open {
  overflow: hidden;
}

/* ===== Details head state classes (for clean CSS cascade) =====
   JS toggles these classes on .gh-panel__head--tight and .modal__head.
   You can override/extend these rules as needed. */
.gh-panel__head--tight.details-head--compact,
.modal__head.details-head--compact{
  background: rgb(13, 17, 23) !important;
}



body.banner-visible .gh-page{top:calc(var(--header-h) + 64px);}



/* ===== Issues table (GitHub-like) ===== */
:root{ --issues-cols: 1fr 110px 80px 140px 160px; }

.issues-table{
  height:100%;
  display:flex;
  flex-direction:column;
  min-height:0;
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
}

.issues-table__head{
  display:grid;
  grid-template-columns: var(--issues-cols);
  gap:0;
  align-items:center;
  padding:10px 12px;
  font-size:12px;
  color:var(--muted);
  /*background:rgba(22,27,34,.8);*/
  background-color:rgb(21, 27, 35);
  border-bottom:1px solid var(--border2);
}

.issues-table__body{
  flex:1 1 auto;
  min-height:0;
  overflow:auto;
}

.issue-row{display:grid;grid-template-columns: var(--issues-cols);gap:0;align-items:center;padding:4px 12px;border-bottom:1px solid rgba(48,54,61,.35);}
.issue-row:last-child{border-bottom:none;}
.issue-row:hover{background:transparent;}

.cell{min-width:0;}
.cell-theme{display:flex;align-items:center;gap:10px;min-width:0;}
.chev{width:16px;text-align:center;color:var(--muted);user-select:none;}
.chev--spacer{visibility:hidden;}

.lvl0{padding-left:0;}
.lvl1{padding-left:22px;}
.lvl2{padding-left:44px;}

.theme-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.theme-text--sit{font-weight:700;font-size:12px;text-transform:uppercase;}
.theme-text--pb{font-weight:600;font-size:12px;text-transform:uppercase;}
.theme-text--avis{font-size:12px;color:var(--text);font-weight:400;}

.cell-id{
  font-size:12px;
  color:var(--muted);
  font-weight:400;
  white-space:nowrap;
}
.issue-row--avis .cell-id{color:var(--muted);}

/* Verdict badges (F/D/S/HM/PM/SO) */
.verdict-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:2px 8px;
  border-radius:4px;
  font-size:12px;
  font-weight:700;
  color:#0d1117;
  border:1px solid rgba(0,0,0,.18);
  white-space:nowrap;
  line-height:21px;
  margin-right:8px;
}
.verdict-F{background-color:rgb(41, 163, 96);}
.verdict-D{background-color:rgb(248, 81, 73); color:#fff;}
.verdict-S{background-color:rgb(241, 224, 90);}
.verdict-HM{background-color:rgb(211, 233, 244);}
.verdict-PM{background-color:rgb(211, 189, 146);}
.verdict-SO{background-color:rgb(20, 31, 53); color:#fff;}

/* Scrollbars: no white track */
*{
  scrollbar-width: thin;
  scrollbar-color: rgba(110,118,129,.45) transparent;
}
*::-webkit-scrollbar{width:10px;height:10px;}
*::-webkit-scrollbar-track{background:transparent;}
*::-webkit-scrollbar-thumb{
  background: rgba(110,118,129,.45);
  border-radius: 10px;
  border: 3px solid transparent;
  background-clip: content-box;
}
*::-webkit-scrollbar-corner{background:transparent;}



/* ===== Top banner (below header) ===== */
#topBanner.gh-banner{
  position:fixed;
  top:var(--header-h);
  left:0;
  right:0;
  height:44px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0 16px;
  z-index:11;
  border:1px solid;
  background-image:linear-gradient(rgba(56, 139, 253, 0.1), rgba(56, 139, 253, 0.1));
  border-color:rgba(56, 139, 253, 0.4);
}
#topBanner.hidden{display:none;}

/* Sidebar head: no padding */
.gh-panel__head.gh-sidebar__head, .gh-panel__head.gh-sidebar_head{padding:0;}

/* Sidebar toggle buttons: match dimensions */
#sidebarToggle, #sidebarToggleFloating{
  width:36px;
  height:32px;
  padding:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.sidebar-fab{padding:0;}

/* Align panel head heights (middle + right) */
:root{ --panel-head-h:44px; }
.gh-panel--results .gh-panel__head--tight,
.gh-panel--details .gh-panel__head{
  min-height:var(--panel-head-h);
  /*display:flex;*/
  align-items:center;
}
.gh-panel--results .gh-panel__head--tight{padding:10px 12px;}
.gh-panel--details .gh-panel__head{padding:10px 12px;}


/* --- v4 tweaks --- */

/* Top banner (GitHub-like info bar) */
.gh-banner{
  position: relative;
  margin: 16px 16px 0;
  padding: 12px 16px;
  border-radius: 6px;
  border: 1px solid rgba(240,246,252,0.12);
  /*background: rgb(13, 45, 107);*/
  color: #f0f6fc;
  font-size: 13px;
}
.gh-banner.hidden{display:none;}
#topBanner.gh-banner--error{
  /*background: rgb(163, 16, 14);*/
  border: 1px solid var(--danger);
  /*border-color: rgba(248, 81, 73, .45);*/
  background: rgba(248, 81, 73, .12);
}

/* Sidebar head padding */
.gh-sidebar__head{padding:0 !important;}

/* Results head layout */
.gh-panel--results .gh-panel__head--tight{
  background: transparent !important;
  border: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
}

.results-bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding:6px 10px,
  width:100%;
}
.results-bar__left{
  display:flex;
  align-items:center;
  gap: 12px;
  min-width: 0;
}
.results-bar__right{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 12px;
  white-space: nowrap;
}
.gh-filters--inline{
  display:flex;
  align-items:center;
  gap: 10px;
}
.gh-filter--inline{
  display:flex;
  align-items:center;
  gap: 8px;
}
.gh-filter--inline span{margin:0;}

/* Issues table spacing */
#issuesTable{margin-top:16px;}

/* Header buttons same height */
.gh-header .gh-btn{
  height: 32px;
  display: inline-flex;
  align-items: center;
}


/* ===== Right panel splitter (resize Details) ===== */
.gh-splitter{
  display:flex;
  align-items:center;
  justify-content:center;
  width:12px;
  margin-left: -6px;        /* -width/2 */
  margin-right: -6px;       /* -width/2 */
  cursor: ew-resize;
  user-select: none;
  touch-action: none;
  color: var(--fgMuted, rgba(255,255,255,0.55));
}
.gh-splitter:hover{
  color: var(--fg, rgba(255,255,255,0.85));
}
.gh-splitter:active{cursor: ew-resize;}
body.is-resizing{
  cursor: ew-resize !important;
  user-select: none !important;
}

/* When layout collapses to 1 column, hide splitter */
@media (max-width:900px){
  .gh-splitter{display:none;}
}

.gh-splitter::before{
  content:"";
  width:2px;
  height:36px;
  border-radius:2px;
  background: currentColor;
  opacity:0.35;
}
.gh-splitter:hover::before{
  opacity:0.65;
}


/* GitHub-like description card (right panel main) */
.gh-comment{
  display:flex;
  gap:12px;
  align-items:flex-start;
  margin-top:10px;
}
.gh-avatar{
  width:40px;
  height:40px;
  border-radius:999px;
  background:var(--panel2);
  border:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
}
.gh-avatar-initial{
  font-family:var(--mono);
  font-size:16px;
  color:var(--text);
  line-height:1;
}

.human-action{
  display:flex;
  gap: 12px;
  align-items: flex-start;
  margin-top: 10px;
}
.comment-general-block{
  flex: 1 1 auto;
}
.gh-avatar--human{
  color:var(--text);
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 auto;
}
.gh-avatar--human svg{
  width:22px;
  height:22px;
}

.gh-comment-box{
  flex:1 1 auto;
  min-width:0;
  border-radius:6px;
  border:1px solid rgba(56, 139, 253, 0.4);
  background:rgba(13,17,23,.92);
  overflow:hidden;
  box-shadow:0 0 0 1px rgba(31,111,235,.12) inset;
}
.gh-comment-header{
  background:rgba(56, 139, 253, 0.1);
  border-bottom:1px solid rgba(56, 139, 253, 0.4);
  padding:8px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.gh-comment-author{
  font-weight: 500;
  font-size: 14px;
  line-height: 21px;
  color:var(--text);
  letter-spacing:.02em;
}
.gh-comment-body{
  padding:12px;
  white-space:inherit;
  font-size:14px;
}

/* Bullets in first agent comment: uniform 13px (keep .mono as-is) */
.gh-comment-body .bullets,
.gh-comment-body .bullets li{font-size:13px;line-height:20px;}



/* ===== Right panel: Sub-issues table (below description) ===== */
.details-subissues{
  margin-left:52px;
  width:calc(100% - 52px);
  margin-bottom:8px;
  margin-top:12px;
  border:1px solid var(--border);
  border-radius:6px;
  overflow:hidden;
  container-type:inline-size;
}
.subissues-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 12px;
}
.subissues-head-left{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.subissues-head-right{
  display:flex;
  align-items:center;
  gap:8px;
  flex:0 0 auto;
  min-width:0;
}
.subissues-head-meta{
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.subissues-title{font-size:13px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.subissues-count{font-size:12px;color:var(--muted);}

.subissues-counts{
  display:inline-flex;
  align-items:center;
  gap:2px;
  margin-left:6px;
  padding:2px 6px;
  border:1px solid var(--border2);
  border-radius:999px;
  background:rgba(22,27,34,.35);
  color:var(--muted);
  font-size:12px;
  line-height:1;
}
.subissues-body{padding:0;}
.subissues-table{border:none;border-radius:0;}
.subissues-table .issues-table__head{border-bottom:1px solid var(--border2);}
.subissues-table .issues-table__body{max-height:360px;overflow:auto;}
.subissue-row--selected{
  outline:1px solid rgba(88,166,255,.45);
  background:rgba(56,139,253,.08);
}


/* === RAPSOBOT github-like details head + subissues tweaks === */
#detailsMeta:empty,
#detailsMetaModal:empty {
  display:none;
}

.gh-state{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:3px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  line-height:1;
  border:1px solid var(--border);
  margin-right:10px;
}
.gh-state-dot{
  line-height:14px;
  .octicon{fill:#ffff;}
}
.gh-state--open{ color:#fff; background-color: rgb(35, 134, 54);line-height: 21px;text-size-adjust: 100%;font-size: 14px; border-color:rgba(46,160,67,.35); }
.gh-state--closed{ color:#fff; background-color: rgb(137, 87, 229);line-height: 21px;text-size-adjust: 100%;font-size: 14px; border-color:rgba(163,113,247,.35); }

.details-title-text{ font-weight:700; }

/* Details title: expanded vs compact (condense on scroll) */
.details-title-wrap{width:100%;}
.details-title--compact{display:none;}

/* Compact title layout: 2 columns (badge | text+meta) */
.details-title--compact .details-title-compact{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:10px;
  align-items:start;
  min-width:0;
}
.details-title--compact .details-title-compact-col1{display:flex;align-items:center;}
.details-title--compact .details-title-compact-col2{min-width:0;}
.details-title--compact .details-title-compact-top{
  display:flex;
  align-items:baseline;
  gap:10px;
  min-width:0;
}
.details-title--compact .details-title-compact-bottom{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.details-title--compact .details-title-compact-bottom .subissues-counts--problems{flex:0 0 auto;}
.details-title--compact .details-title-compact-bottom .verdict-bar{flex:0 1 auto;}
/* avoid double spacing when gh-state sits in its own column */
.details-title--compact .gh-state{margin-right:0;}

.details-title-row{display:flex;align-items:center;gap:10px;min-width:0;flex-wrap:wrap;}
.details-title-spacer{flex:1 1 auto;min-width:8px;}
.details-title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;}
.details-title-id a{color:var(--muted);text-decoration:none;}
.details-title-id a:hover{color:var(--accent);text-decoration:underline;}

.details-title--expanded .details-title-text{font-size:32px;font-weight:400;line-height:48px;color:#fff;}
.details-title--expanded .gh-state{font-size:14px;line-height:21px;padding:3px 10px;}
.details-title--expanded .subissues-counts--problems,
.details-title--expanded .subissues-counts--verdicts{margin-left:8px;}

/* Expanded title layout: 2 lines */
.details-title--expanded .details-title-maincol{display:flex;flex-direction:column;gap:6px;min-width:0;}
.details-title--expanded .details-title-topline{display:flex;align-items:flex-end;gap:10px;min-width:0;}
.details-title--expanded .details-title-bottomline{display:flex;align-items:flex-start;gap:10px;min-width:0;flex-wrap:wrap;}
.details-title--expanded .details-title-id{font-size:14px;line-height:21px;}

/* Sub-issues: keep Problems pill readable; at narrow widths stack icon + text and hide verdict legend */
.subissues-counts--problems{flex:0 0 auto;min-width:140px;}

@container (max-width: 560px){
  .subissues-counts--problems{
    flex-direction:column;
    align-items:flex-start;
    gap:4px;
    min-width:110px;
  }
  .subissues-counts--verdicts .verdict-legend{display:none !important;}
}

.details-title--compact .details-title-row{align-items:flex-start;}
.details-title-maincol{display:flex;flex-direction:column;gap:4px;min-width:0;flex:1 1 auto;}
.details-title--compact .details-title-text{font-size:14px;font-weight:700;line-height:20px;color:#fff;}
.details-title--compact .gh-state{font-size:12px;line-height:18px;padding:2px 8px;margin-right:6px;}
.details-title-subline{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
.details-title-subline .subissues-counts--verdicts{padding:0;border:none;background:transparent;}
.details-title-subline .verdict-legend{display:none !important;}

/* Switch modes when scrolled */
.details-scrolled .details-title--expanded{display:none;}
.details-scrolled .details-title--compact{display:block;}
.details-title-id{ color:var(--muted);}
.gh-verdict-pill{ margin-left:10px; }

.v-dot{
  width:10px;height:10px;border-radius:999px;
  display:inline-block;
  margin-right:8px;
  border:1px solid rgba(240,246,252,.25);
  background:rgba(139,148,158,.35);
}
.v-dot--d{ background:#f85149; border-color:rgba(248,81,73,.45); }
.v-dot--s{ background:rgb(241, 224, 90); border-color:rgba(241,224,90,.55); }
.v-dot--ok{ background:#3fb950; border-color:rgba(63,185,80,.45); }
.v-dot--f{ background:rgb(41, 163, 96); border-color:rgba(41,163,96,.55); }
.v-dot--d{ background:rgb(248, 81, 73); border-color:rgba(248,81,73,.55); }
.v-dot--hm{ background:rgb(211, 233, 244); border-color:rgba(211,233,244,.55); }
.v-dot--pm{ background:rgb(211, 189, 146); border-color:rgba(211,189,146,.55); }
.v-dot--so{ background:rgb(20, 31, 53); border-color:rgba(20,31,53,.55); }

.details-subissues .subissues-table{ --issues-cols: 1fr; }
.details-subissues .issues-table__head{ display:none !important; }
.details-subissues .cell-theme{ padding-right:0; }
.subissue-avis-count{
  margin-left:10px;
  color:var(--muted);
  font-size:12px;
  white-space:nowrap;
}

.gh-timeline{
  position:relative;
  /* Create a local stacking context so the timeline "rail" can stay behind
     all content without fighting global z-index / transparent backgrounds. */
  isolation:isolate;
}

/* Ensure all timeline children sit above the rail */
.gh-timeline > *{
  position:relative;
  z-index:1;
}

/* Align section titles + blocks with the description avatar column */
.gh-timeline-title{
  width:calc(100% - 52px);
  color:#fff;
  font-size:16px;
  font-weight:600;
  line-height:40px;
}

.gh-thread{
  margin-left:52px;
  width:calc(100% - 52px);
  gap:0px;
}

.gh-comment-boxwrap{
  width:100%;
  background:rgba(13,17,23,.92);
}

.gh-panel--details .gh-panel__kicker,
.gh-panel--details .panel-kicker,
.gh-panel--details .details-kicker{
  display:none !important;
}


.subissues-inline-count{margin-left:8px;color:var(--muted);font-size:12px;}


/* Sub-issues head: verdict counters (bar + legend) */
.subissues-counts--verdicts{display:flex;flex-direction:column;align-items:flex-start;gap:1px;padding:0;border:none;background:transparent;}
.verdict-bar{display:flex;align-items:stretch;width:296px;min-width:160px;max-width:296px;flex:0 1 auto;height:8px;border-radius:999px;overflow:hidden;border:1px solid rgba(240,246,252,.14);background:rgba(110,118,129,.12);}
.verdict-bar__seg{height:100%;display:block;}
.verdict-bar__seg--d{background:rgb(248, 81, 73);} 
.verdict-bar__seg--s{background:rgb(241, 224, 90);} 
.verdict-bar__seg--f{background:rgb(41, 163, 96);} 
.verdict-bar__seg--hm{background:rgb(211, 233, 244);} 
.verdict-bar__seg--pm{background:rgb(211, 189, 146);} 
.verdict-bar__seg--so{background:rgb(20, 31, 53);} 
.verdict-legend{display:flex;flex-wrap:wrap;gap:10px 14px;}
.verdict-legend__item{display:inline-flex;align-items:center;gap:4px;font-size:12px;color:var(--text);}
.verdict-legend__count b{color:#fff;font-weight:600;font-size:12px;}
.verdict-legend__pct{color:var(--muted);font-size:12px;line-height:18px;}
.subissues-counts--total{padding:2px 8px;}


/* Details actions (GitHub-like) */
.actions-row--details{gap:10px;}
.gh-btn--issue-action{display:inline-flex;align-items:center;gap:8px;}
.gh-btn--issue-action svg{flex:0 0 auto;}
.gh-btn__label{white-space:nowrap;}
.gh-caret{margin-left:6px;color:var(--muted);font-size:12px;line-height:1;}

.verdict-switch{display:inline-flex;align-items:stretch;border:1px solid var(--border);border-radius:6px;overflow:hidden;background:transparent;}
.verdict-switch__btn{appearance:none;border:0;background:transparent;color:var(--muted);padding:6px 10px;font-size:12px;font-weight:700;cursor:pointer;line-height:1;}
.verdict-switch__btn + .verdict-switch__btn{border-left:1px solid var(--border);} 
.verdict-switch__btn:hover{background:rgba(110,118,129,.10);color:var(--text);} 
.verdict-switch__btn.is-active{background:rgba(56,139,253,.18);color:var(--text);} 

/* ===== Drilldown slide-in panel ===== */
.drilldown {
  position: fixed;
  inset: 0;
  z-index: 80; /* above details modal */
  background: rgba(0,0,0,0.35);
  display: flex;
  justify-content: flex-end;
}
.drilldown.hidden { display: none; }

.drilldown__inner {
  width: min(720px, 92vw);
  height: 100vh;
  border-left: 1px solid var(--border);
  transform: translateX(100%);
  transition: transform 180ms ease;
  background: var(--bg);
  display: flex;
  flex-direction: column;
}

body.drilldown-open .drilldown__inner {
  transform: translateX(0);
}

.drilldown__head {
  flex: 0 0 auto;
}
.drilldown__body {
  flex: 1 1 auto;
  overflow: auto;
}

/* subissues-counts--problems icon */
.subissues-counts--problems .subissues-problems-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}


/* ===== Timeline activity notifications (close/reopen/verdict change) ===== */
.thread-item--activity{padding-top:8px;padding-bottom:8px;}
.thread-item--activity::before{display:block;height:60px;}
.tl-activity{
  display:flex;
  align-items:center;
  gap:10px;
  padding:4px 12px 8px 57px;
}
.tl-ico-wrap{
  border: solid 2px var(--bg);
  background-color: rgb(171, 125, 248);
  border-radius: 999px;
  height: 32px;
  width: 32px;
  align-items: center;
  box-sizing: border-box;
  padding-left: 6px;
  padding-top: 6px;
}
.tl-ico-closed{background-color:var(--fgColor-closed);}
.tl-ico-reopened{background:var(--fgColor-open);}
.tl-ico-wrap svg{display:block;}
.tl-author{
  width:18px;height:18px;border-radius:999px;
  border:1px solid var(--border);
  background:var(--panel2);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  overflow:hidden;
}
.tl-author--human svg{width:14px;height:14px;}
.tl-author--agent{font-size:11px;color:var(--text);line-height:1;}

.tl-activity__text{min-width:0;white-space:normal;overflow:visible;text-overflow:clip;word-break:break-word;}
.tl-author-name{font-weight:700;color:var(--text);font-size:14px;}
.tl-note{
  margin:0 12px 8px 12px;
  padding:8px 10px;
  border:1px solid var(--border2);
  border-radius:6px;
  background:rgba(22,27,34,.35);
  color:var(--text);
  font-size:13px;
}

.tl-ico{
  width:18px;height:18px;border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  border:1px solid rgba(240,246,252,.18);
  font-size:11px;
  font-weight:800;
  line-height:1;
  width:32px;
  height:32px;
  border:solid 2px var(--bg);
}
.tl-ico--muted{background:rgba(110,118,129,.22);color:var(--text);}
.tl-ico--verdict{letter-spacing:.02em;}
.tl-ico--d{background:rgb(248, 81, 73);color:#fff;}
.tl-ico--s{background:rgb(241, 224, 90);color:#0d1117;}
.tl-ico--f{background:rgb(41, 163, 96);color:#fff;}
.tl-ico--hm{background:rgb(211, 233, 244);color:#0d1117;}
.tl-ico--pm{background:rgb(211, 189, 146);color:#0d1117;}
.tl-ico--so{background:rgb(20, 31, 53);color:#fff;}
