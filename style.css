/* (le fichier est long — colle exactement ce contenu) */
:root{
  --bg:#0d1117;
  --panel2:#161b22;
  --headbg:rgb(1, 4, 9);
  --headbgtight:rgb(21,27,35);
  --text:#c9d1d9;
  --muted:#8b949e;
  --border:#30363d;
  --border2:#21262d;
  --accent:#58a6ff;
  --danger:#f85149;
  --success:#3fb950;
  --fgColor-open:rgb(63, 185, 80);
  --fgColor-done:rgb(171, 125, 248);

  --radius:6px;
  --radius2:10px;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  --header-h:64px;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{margin:0;background:var(--bg);color:var(--text);font-family:var(--font);overflow:hidden;}
.mono{font-family:var(--mono);}

/* ===== Top header ===== */
.gh-header{
  position:fixed;top:0;left:0;right:0;z-index:10;
  height:var(--header-h);
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  background:var(--headbg);
  border-bottom:1px solid var(--border);
}
.gh-header__left{display:flex;align-items:center;gap:12px;min-width:0;justify-self:start;}
.gh-header__center{justify-self:center;}
.gh-header__right{justify-self:end;display:flex;align-items:center;justify-content:space-between;gap:12px;min-width:0;}
.gh-header__right-mid{display:flex;align-items:center;gap:10px;flex:0 0 auto;}
.gh-header__right-end{display:flex;align-items:center;justify-content:flex-end;flex:0 0 auto;}

/* header right replaced below */

.gh-brand{
  display:inline-flex;align-items:center;gap:10px;
  color:var(--text);text-decoration:none;min-width:0;
}
.gh-brand__logo{
  width:34px;
  height:34px;
  border-radius:8px;
  background:transparent;
  padding:0;
  object-fit:contain;
  /* améliore la lisibilité du blanc sur fond noir */
  filter: drop-shadow(0 0 6px rgba(0,0,0,.6));
}
.gh-brand__name{font-weight:700;}
.gh-brand__sep{color:var(--muted);}
.gh-brand__repo{color:var(--muted);}

/* system status */
.sys-status{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid var(--border);
  background:var(--panel2);
  font-size:12px;color:var(--muted);white-space:nowrap;
}
.sys-status__dot{width:10px;height:10px;border-radius:999px;background:var(--muted);}
.sys-status__label{color:var(--text);}
.sys-status__meta{color:var(--muted);}

/* Buttons / Inputs */
.gh-btn{
  border:1px solid var(--border);
  background:var(--panel2);
  color:var(--text);
  padding:6px 12px;border-radius:var(--radius);
  cursor:pointer;font-size:13px;
}
.gh-btn:hover{border-color:#6e7681;}
.gh-btn--primary{
  background:var(--success);
  border-color:rgba(0,0,0,.2);
  color:#0d1117;font-weight:700;
}
.gh-btn--primary:hover{filter:brightness(.95);}
.gh-btn--sm{padding:4px 10px;font-size:12px;}

.icon-btn{
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  border-radius:var(--radius);
  padding:6px 10px;
  cursor:pointer;
  font-size:14px;
  line-height:1;
}
.icon-btn:hover{border-color:#6e7681;}

.gh-input{
  width:100%;
  padding:7px 10px;border-radius:var(--radius);
  border:1px solid var(--border);
  background:var(--bg);color:var(--text);
  outline:none;font-size:13px;
}
.gh-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,.15);}
.gh-input--sm{padding:5px 8px;font-size:12px;}

.gh-field{display:flex;flex-direction:column;gap:6px;}
.gh-field__label{font-size:12px;color:var(--muted);margin-top:8px;}
.gh-field__help{font-size:11px;color:var(--muted);}

/* Layout */
.gh-page{
  position:fixed;
  top:var(--header-h);
  left:0;
  right:0;
  bottom:0;
  width:100%;
  max-width:none;
  margin:0;
  padding:16px;
  display:grid;
  gap:16px;
  overflow:hidden;
}
.gh-page--3col{column-gap: 12px;grid-template-columns: 340px 1fr 0px var(--rightW, 420px);}
@media (max-width:900px){ .gh-page--3col{grid-template-columns:1fr;} }

/* Sidebar collapsed */
body.sidebar-collapsed .gh-page--3col{grid-template-columns:0px 1fr 0px var(--rightW, 420px);}
body.sidebar-collapsed .gh-page{padding-left: 64px;}
body.sidebar-collapsed #sidebar{overflow:hidden;width:0;min-width:0;padding:0;margin:0;}

/* Floating sidebar toggle (relative to <main>, not fixed) */
.sidebar-fab{
  position:absolute;
  top:16px;
  left:16px;
  z-index:30;
  padding:8px 12px;
}
body:not(.sidebar-collapsed) .sidebar-fab{display:none;}

/* Panels */
.gh-panel{background:transparent;border:1px solid var(--border);border-radius:var(--radius2);}
.gh-panel--results{border:none;border-radius:var(--radius);}
.gh-panel--details{min-width:320px;border-radius:var(--radius);}

/* Fixed columns + internal scroll areas */
.gh-panel,
.gh-sidebar{display:flex;flex-direction:column;min-height:0;height:100%;}

.gh-sidebar{overflow:auto;}

.gh-panel__head{flex:0 0 auto;}
#issuesTable{flex:1 1 auto;min-height:0;overflow:hidden;margin-top:16px;}
.details-body{flex:1 1 auto;min-height:0;overflow:auto;}

.gh-panel__head{
  padding:12px;
  border-bottom:1px solid var(--border);
  border-top-left-radius:inherit;
  border-top-right-radius:inherit;
}
.gh-panel__head--tight{padding-bottom:10px;background:var(--headbgtight);}

/* Middle only: head without background + bordered */
.gh-panel--results .gh-panel__head--tight{background:transparent;border:1px solid var(--border);border-bottom:1px solid var(--border);border-radius:var(--radius);}
.gh-panel--results .gh-panel__head:not(.gh-panel__head--tight){border-bottom:none;}
.gh-panel__title{margin:0;font-size:14px;font-weight:700;}

/* Sidebar */
.gh-sidebar{background:transparent;border:none;border-radius:0;}
.gh-sidebar__head{
  display:flex;align-items:center;justify-content:space-between;
  gap:10px;border-radius:0;border:none;
}
.sidebar-head-left{display:flex;align-items:center;gap:10px;}
.gh-sidebar__section{padding:12px 0;}
.gh-sidebar__sectionTitle{padding:0 0 10px;font-size:12px;color:var(--muted);font-weight:600;}
.gh-sidebar__divider{height:1px;background:var(--border);}

.gh-actions{display:flex;align-items:center;gap:10px;}
.gh-actions--sidebar{padding:0;}
.gh-meta{font-size:12px;color:var(--muted);}

.gh-alert{
  margin-top:10px;padding:10px 12px;border-radius:var(--radius);
  border:1px solid var(--border);font-size:13px;
}
.gh-alert--error{border-color:rgba(248,81,73,.6);background:rgba(248,81,73,.08);color:#ffdcd7;}
.hidden{display:none;}

/* Filters */
.gh-filters{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
.gh-filter{display:inline-flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);}

/* Head lines */
.issues-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;}
.issues-totals{font-size:12px;color:var(--muted);white-space:nowrap;}
.details-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;}
.details-head-left{display:flex;flex-direction:column;gap:2px;min-width:0;}
.details-head-right{display:flex;align-items:center;gap:10px;}
.details-kicker{font-size:11px;color:var(--muted);letter-spacing:.08em;}
.details-meta{font-size:12px;color:var(--muted);white-space:nowrap;}
.details-body{padding:12px;}

.icon-btn--sm{padding:6px 10px;font-size:13px;}

/* Details fullscreen modal */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.55);
  z-index:50;
  display:flex;
}
.modal.hidden{display:none;}
.modal__inner{
  width:100%;
  margin:0;
  display:flex;
  flex-direction:column;
  background:var(--bg);
}
.modal__head{
  display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
  padding:12px 16px;
  border-bottom:1px solid var(--border);
  background:var(--headbg);
}
.modal__head-left{display:flex;flex-direction:column;gap:2px;min-width:0;}
.modal__title{font-size:16px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.modal__head-right{display:flex;align-items:center;gap:10px;}
.modal__body{
  padding:16px;
  overflow:auto;
  height:calc(100vh - 56px - 48px); /* approx header + topbar */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Middle list lines */
.emptyState{padding:14px 12px;color:var(--muted);font-size:13px;}
.mid-wrap{padding:10px 12px;}
.mid-block{margin-bottom:10px;}
.line{
  display:flex;align-items:center;gap:10px;
  padding:6px 0;
  border-bottom:1px solid rgba(48,54,61,.35);
}
.line:last-child{border-bottom:none;}
.line-left{display:flex;align-items:center;gap:10px;min-width:0;flex:1;}
.line-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.line-meta{display:flex;align-items:center;gap:10px;color:var(--muted);font-size:12px;white-space:nowrap;}
.chev{width:16px;text-align:center;color:var(--muted);user-select:none;}
.click{cursor:pointer;}
.click:hover{opacity:.95;}

/* Badges */
.badge{
  display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;
  border:1px solid var(--border);background:rgba(110,118,129,.12);
  font-size:12px;color:var(--muted);white-space:nowrap;
}
.badge--p1{color:#ffdcd7;border-color:rgba(248,81,73,.45);background:rgba(248,81,73,.12);}
.badge--p2{color:#ffe7b3;border-color:rgba(210,153,34,.55);background:rgba(210,153,34,.12);}
.badge--p3{color:#c7f0d8;border-color:rgba(63,185,80,.45);background:rgba(63,185,80,.12);}
.badge--ko{color:#ffdcd7;border-color:rgba(248,81,73,.45);background:rgba(248,81,73,.10);}
.badge--ok{color:#c7f0d8;border-color:rgba(63,185,80,.45);background:rgba(63,185,80,.10);}
.badge--av{color:#c9d1d9;border-color:rgba(88,166,255,.40);background:rgba(88,166,255,.08);}

/* Avis header + table only */
.avis-header{
  margin:6px 0 10px;
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
}
.avis-header table{width:100%;border-collapse:collapse;}
.avis-header th{
  padding:8px 10px;
  font-size:12px;color:var(--muted);
  background:rgba(22,27,34,.8);
  border-bottom:1px solid var(--border2);
  text-align:left;
}
.avis-table{width:100%;border-collapse:collapse;border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;}
.avis-table td{
  padding:8px 10px;
  border-bottom:1px solid var(--border2);
  vertical-align:top;
}
.avis-table tr:last-child td{border-bottom:none;}
.avis-table tr:hover td{background:transparent;}
.ticket-msg{white-space:pre-wrap;}

/* Right panel: GitHub-issue-like thread + comment box */
.hr{height:1px;background:var(--border);margin:14px 0;}
.kv{display:grid;grid-template-columns:110px 1fr;gap:6px 10px;align-items:start;}
.kv .k{color:var(--muted);font-size:12px;}
.kv .v{font-size:13px;}
.mono-small{font-family:var(--mono);font-size:12px;color:var(--muted);}

.thread{display:flex;flex-direction:column;gap:12px;}
.thread-item{border:1px solid var(--border);border-radius:var(--radius);background:rgba(22,27,34,.25);overflow:hidden;}
.thread-item__head{display:flex;justify-content:space-between;gap:12px;padding:10px 12px;border-bottom:1px solid rgba(48,54,61,.5);font-size:12px;color:var(--muted);}
.thread-item__body{padding:10px 12px;font-size:13px;white-space:pre-wrap;}

.comment-box{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;}
.comment-tabs{display:flex;gap:0;border-bottom:1px solid var(--border2);background:rgba(22,27,34,.6);}
.comment-tab{border:none;background:transparent;color:var(--muted);padding:8px 12px;cursor:pointer;font-size:13px;}
.comment-tab[aria-selected="true"]{color:var(--text);font-weight:700;}
.comment-editor{padding:10px 12px;}
.textarea{width:100%;min-height:120px;resize:vertical;padding:10px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg);color:var(--text);font-size:13px;outline:none;}
.textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,.15);}
.comment-preview{border:1px solid var(--border);border-radius:var(--radius);padding:10px 12px;min-height:120px;background:rgba(22,27,34,.25);}
.actions-row{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}

.gh-btn--success{background:rgba(63,185,80,.12);border-color:rgba(63,185,80,.35);}
.gh-btn--danger{background:rgba(248,81,73,.10);border-color:rgba(248,81,73,.35);}
.gh-btn--neutral{background:rgba(88,166,255,.08);border-color:rgba(88,166,255,.35);}

/* Footer */
.gh-counts{font-size:12px;color:var(--muted);}
.gh-pagination{display:inline-flex;align-items:center;gap:10px;}

/* === Disable background scroll when modal is open === */
body.modal-open {
  overflow: hidden;
}



body.banner-visible .gh-page{top:calc(var(--header-h) + 64px);}



/* ===== Issues table (GitHub-like) ===== */
:root{ --issues-cols: 1fr 110px 80px 140px 160px; }

.issues-table{
  height:100%;
  display:flex;
  flex-direction:column;
  min-height:0;
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
}

.issues-table__head{
  display:grid;
  grid-template-columns: var(--issues-cols);
  gap:0;
  align-items:center;
  padding:10px 12px;
  font-size:12px;
  color:var(--muted);
  /*background:rgba(22,27,34,.8);*/
  background-color:rgb(21, 27, 35);
  border-bottom:1px solid var(--border2);
}

.issues-table__body{
  flex:1 1 auto;
  min-height:0;
  overflow:auto;
}

.issue-row{
  display:grid;
  grid-template-columns: var(--issues-cols);
  gap:0;
  align-items:center;
  padding:10px 12px;
  border-bottom:1px solid rgba(48,54,61,.35);
}
.issue-row:last-child{border-bottom:none;}
.issue-row:hover{background:transparent;}

.cell{min-width:0;}
.cell-theme{display:flex;align-items:center;gap:10px;min-width:0;}
.chev{width:16px;text-align:center;color:var(--muted);user-select:none;}
.chev--spacer{visibility:hidden;}

.lvl0{padding-left:0;}
.lvl1{padding-left:22px;}
.lvl2{padding-left:44px;}

.theme-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.theme-text--sit{font-weight:700;font-size:small;text-transform:uppercase;}
.theme-text--pb{font-weight:600;font-size:small;text-transform:uppercase;}
.theme-text--avis{font-size:small;color:var(--text);font-weight:400;}

.cell-id{
  font-size:12px;
  color:var(--muted);
  font-weight:400;
  white-space:nowrap;
}
.issue-row--avis .cell-id{color:var(--muted);}

/* Verdict badges (F/D/S/HM/PM/SO) */
.verdict-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:2px 8px;
  border-radius:4px;
  font-size:12px;
  font-weight:700;
  color:#0d1117;
  border:1px solid rgba(0,0,0,.18);
  white-space:nowrap;
}
.verdict-F{background-color:rgb(41, 163, 96);}
.verdict-D{background-color:rgb(248, 81, 73); color:#fff;}
.verdict-S{background-color:rgb(241, 224, 90);}
.verdict-HM{background-color:rgb(211, 233, 244);}
.verdict-PM{background-color:rgb(211, 189, 146);}
.verdict-SO{background-color:rgb(20, 31, 53); color:#fff;}

/* Scrollbars: no white track */
*{
  scrollbar-width: thin;
  scrollbar-color: rgba(110,118,129,.45) transparent;
}
*::-webkit-scrollbar{width:10px;height:10px;}
*::-webkit-scrollbar-track{background:transparent;}
*::-webkit-scrollbar-thumb{
  background: rgba(110,118,129,.45);
  border-radius: 10px;
  border: 3px solid transparent;
  background-clip: content-box;
}
*::-webkit-scrollbar-corner{background:transparent;}



/* ===== Top banner (below header) ===== */
#topBanner.gh-banner{
  position:fixed;
  top:var(--header-h);
  left:0;
  right:0;
  height:44px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0 16px;
  z-index:11;
  border:1px solid;
  background-image:linear-gradient(rgba(56, 139, 253, 0.1), rgba(56, 139, 253, 0.1));
  border-color:rgba(56, 139, 253, 0.4);
}
#topBanner.hidden{display:none;}

/* Sidebar head: no padding */
.gh-panel__head.gh-sidebar__head, .gh-panel__head.gh-sidebar_head{padding:0;}

/* Sidebar toggle buttons: match dimensions */
#sidebarToggle, #sidebarToggleFloating{
  width:36px;
  height:32px;
  padding:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.sidebar-fab{padding:0;}

/* Align panel head heights (middle + right) */
:root{ --panel-head-h:44px; }
.gh-panel--results .gh-panel__head--tight,
.gh-panel--details .gh-panel__head{
  min-height:var(--panel-head-h);
  /*display:flex;*/
  align-items:center;
}
.gh-panel--results .gh-panel__head--tight{padding:10px 12px;}
.gh-panel--details .gh-panel__head{padding:10px 12px;}


/* --- v4 tweaks --- */

/* Top banner (GitHub-like info bar) */
.gh-banner{
  position: relative;
  margin: 16px 16px 0;
  padding: 12px 16px;
  border-radius: 6px;
  border: 1px solid rgba(240,246,252,0.12);
  /*background: rgb(13, 45, 107);*/
  color: #f0f6fc;
  font-size: 13px;
}
.gh-banner.hidden{display:none;}
#topBanner.gh-banner--error{
  /*background: rgb(163, 16, 14);*/
  border: 1px solid var(--danger);
  /*border-color: rgba(248, 81, 73, .45);*/
  background: rgba(248, 81, 73, .12);
}

/* Sidebar head padding */
.gh-sidebar__head{padding:0 !important;}

/* Results head layout */
.gh-panel--results .gh-panel__head--tight{
  background: transparent !important;
  border: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
}

.results-bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding:6px 10px,
  width:100%;
}
.results-bar__left{
  display:flex;
  align-items:center;
  gap: 12px;
  min-width: 0;
}
.results-bar__right{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 12px;
  white-space: nowrap;
}
.gh-filters--inline{
  display:flex;
  align-items:center;
  gap: 10px;
}
.gh-filter--inline{
  display:flex;
  align-items:center;
  gap: 8px;
}
.gh-filter--inline span{margin:0;}

/* Issues table spacing */
#issuesTable{margin-top:16px;}

/* Header buttons same height */
.gh-header .gh-btn{
  height: 32px;
  display: inline-flex;
  align-items: center;
}


/* ===== Right panel splitter (resize Details) ===== */
.gh-splitter{
  display:flex;
  align-items:center;
  justify-content:center;
  width:12px;
  margin-left: -6px;        /* -width/2 */
  margin-right: -6px;       /* -width/2 */
  cursor: ew-resize;
  user-select: none;
  touch-action: none;
  color: var(--fgMuted, rgba(255,255,255,0.55));
}
.gh-splitter:hover{
  color: var(--fg, rgba(255,255,255,0.85));
}
.gh-splitter:active{cursor: ew-resize;}
body.is-resizing{
  cursor: ew-resize !important;
  user-select: none !important;
}

/* When layout collapses to 1 column, hide splitter */
@media (max-width:900px){
  .gh-splitter{display:none;}
}

.gh-splitter::before{
  content:"";
  width:2px;
  height:36px;
  border-radius:2px;
  background: currentColor;
  opacity:0.35;
}
.gh-splitter:hover::before{
  opacity:0.65;
}
