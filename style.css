/* (le fichier est long — colle exactement ce contenu) */
:root{
  --bg:#0d1117;
  --panel2:#161b22;
  --headbg:rgb(21,27,35);
  --text:#c9d1d9;
  --muted:#8b949e;
  --border:#30363d;
  --border2:#21262d;
  --accent:#58a6ff;
  --danger:#f85149;
  --success:#3fb950;

  --radius:6px;
  --radius2:10px;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  --header-h:64px;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{margin:0;background:var(--bg);color:var(--text);font-family:var(--font);overflow:hidden;}
.mono{font-family:var(--mono);}

/* ===== Scrollbars (no bright track) ===== */
*{scrollbar-width:thin;scrollbar-color: rgba(110,118,129,.55) transparent;}
*::-webkit-scrollbar{width:10px;height:10px;}
*::-webkit-scrollbar-track{background:transparent;}
*::-webkit-scrollbar-thumb{background:rgba(110,118,129,.55);border-radius:999px;border:3px solid transparent;background-clip:content-box;}
*::-webkit-scrollbar-thumb:hover{background:rgba(110,118,129,.75);border:3px solid transparent;background-clip:content-box;}

/* ===== Top header ===== */
.gh-header{
  position:fixed;top:0;left:0;right:0;z-index:10;
  height:var(--header-h);
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  background:var(--bg);
  border-bottom:1px solid var(--border);
}
.gh-header__left{display:flex;align-items:center;gap:12px;min-width:0;justify-self:start;}
.gh-header__center{justify-self:center;}
.gh-header__right{display:flex;align-items:center;gap:10px;justify-self:end;}

.gh-brand{
  display:inline-flex;align-items:center;gap:10px;
  color:var(--text);text-decoration:none;min-width:0;
}
.gh-brand__logo{
  width:34px;
  height:34px;
  border-radius:8px;
  background:transparent;
  padding:0;
  object-fit:contain;
  /* améliore la lisibilité du blanc sur fond noir */
  filter: drop-shadow(0 0 6px rgba(0,0,0,.6));
}
.gh-brand__name{font-weight:700;}
.gh-brand__sep{color:var(--muted);}
.gh-brand__repo{color:var(--muted);}

/* system status */
.sys-status{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid var(--border);
  background:var(--panel2);
  font-size:12px;color:var(--muted);white-space:nowrap;
}
.sys-status__dot{width:10px;height:10px;border-radius:999px;background:var(--muted);}
.sys-status__label{color:var(--text);}

/* ===== Global info/error bar ===== */
.gh-infobar{
  position:fixed;
  top:var(--header-h);
  left:0;
  right:0;
  z-index:9;
  padding:12px 16px;
  border-bottom:1px solid var(--border);
  font-size:13px;
}
.gh-infobar--info{background:rgba(56,139,253,.18);border-bottom-color:rgba(56,139,253,.35);}
.gh-infobar--error{background:rgba(248,81,73,.12);border-bottom-color:rgba(248,81,73,.45);}

/* Buttons / Inputs */
.gh-btn{
  border:1px solid var(--border);
  background:var(--panel2);
  color:var(--text);
  padding:6px 12px;border-radius:var(--radius);
  cursor:pointer;font-size:13px;
}
.gh-btn:hover{border-color:#6e7681;}
.gh-btn--primary{
  background:var(--success);
  border-color:rgba(0,0,0,.2);
  color:#0d1117;font-weight:700;
}
.gh-btn--primary:hover{filter:brightness(.95);}
.gh-btn--sm{padding:4px 10px;font-size:12px;}

.icon-btn{
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  border-radius:var(--radius);
  padding:6px 10px;
  cursor:pointer;
  font-size:14px;
  line-height:1;
}
.icon-btn:hover{border-color:#6e7681;}

.gh-input{
  width:100%;
  padding:7px 10px;border-radius:var(--radius);
  border:1px solid var(--border);
  background:var(--bg);color:var(--text);
  outline:none;font-size:13px;
}
.gh-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,.15);}
.gh-input--sm{padding:5px 8px;font-size:12px;}

.gh-field{display:flex;flex-direction:column;gap:6px;}
.gh-field__label{font-size:12px;color:var(--muted);}
.gh-field__help{font-size:11px;color:var(--muted);}

/* Layout */
.gh-page{
  position:fixed;
  top:var(--header-h);
  left:0;
  right:0;
  bottom:0;
  width:100%;
  max-width:none;
  margin:0;
  padding:16px;
  display:grid;
  gap:16px;
  overflow:hidden;
}

/* When the info bar is visible, push the grid down so nothing is overlapped */
body.has-infobar .gh-page{top:calc(var(--header-h) + 52px);}
.gh-page--3col{grid-template-columns:340px 1fr 420px;}
@media (max-width:1180px){ .gh-page--3col{grid-template-columns:1fr;} }

/* Sidebar collapsed */
body.sidebar-collapsed .gh-page--3col{grid-template-columns:0px 1fr 420px;}
body.sidebar-collapsed .gh-page{padding-left: 64px;}
body.sidebar-collapsed #sidebar{overflow:hidden;width:0;min-width:0;padding:0;margin:0;}

/* Floating sidebar toggle */
.sidebar-fab{
  position:fixed;
  top:72px; /* under header */
  left:16px;
  z-index:30;
  padding:8px 12px;
}
/* Always visible: must not move when sidebar collapses */
body:not(.sidebar-collapsed) .sidebar-fab{display:block;}

/* Panels */
.gh-panel{background:transparent;border:1px solid var(--border);border-radius:var(--radius2);}
.gh-panel--results{border-radius:var(--radius);}
.gh-panel--details{border-radius:var(--radius);}

/* Fixed columns + internal scroll areas */
.gh-panel,
.gh-sidebar{display:flex;flex-direction:column;min-height:0;height:100%;}

.gh-sidebar{overflow:auto;}

.gh-panel__head{flex:0 0 auto;}
#issuesTable{flex:1 1 auto;min-height:0;overflow:auto;}
.gh-footer{flex:0 0 auto;}
.details-body{flex:1 1 auto;min-height:0;overflow:auto;}

.gh-panel__head{
  padding:12px;
  border-bottom:1px solid var(--border);
  border-top-left-radius:inherit;
  border-top-right-radius:inherit;
}
.gh-panel__head--tight{padding-bottom:10px;background:var(--headbg);}
.gh-panel__title{margin:0;font-size:14px;font-weight:700;}

/* Sidebar */
.gh-sidebar{background:transparent;border:none;border-radius:0;}
.gh-sidebar__head{
  display:flex;align-items:center;justify-content:space-between;
  gap:10px;border-radius:0;border:none;
}
.sidebar-head-left{display:flex;align-items:center;gap:10px;}
.gh-sidebar__section{padding:12px 0;}
.gh-sidebar__sectionTitle{padding:0 0 10px;font-size:12px;color:var(--muted);font-weight:600;}
.gh-sidebar__divider{height:1px;background:var(--border);}

.gh-actions{display:flex;align-items:center;gap:10px;}
.gh-actions--sidebar{padding:0;}
.gh-meta{font-size:12px;color:var(--muted);}

.gh-alert{
  margin-top:10px;padding:10px 12px;border-radius:var(--radius);
  border:1px solid var(--border);font-size:13px;
}
.gh-alert--error{border-color:rgba(248,81,73,.6);background:rgba(248,81,73,.08);color:#ffdcd7;}
.hidden{display:none;}

/* Filters */
.gh-filters{margin-top:10px;display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
.gh-filter{display:inline-flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);}

/* Head lines */
.issues-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;}
.issues-totals{font-size:12px;color:var(--muted);white-space:nowrap;}
.details-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;}
.details-head-left{display:flex;flex-direction:column;gap:2px;min-width:0;}
.details-head-right{display:flex;align-items:center;gap:10px;}
.details-kicker{font-size:11px;color:var(--muted);letter-spacing:.08em;}
.details-meta{font-size:12px;color:var(--muted);white-space:nowrap;}
.details-body{padding:12px;}

.icon-btn--sm{padding:6px 10px;font-size:13px;}

/* Details fullscreen modal */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.55);
  z-index:50;
  display:flex;
}
.modal.hidden{display:none;}
.modal__inner{
  width:100%;
  margin:0;
  display:flex;
  flex-direction:column;
  background:var(--bg);
}
.modal__head{
  display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
  padding:12px 16px;
  border-bottom:1px solid var(--border);
  background:var(--headbg);
}
.modal__head-left{display:flex;flex-direction:column;gap:2px;min-width:0;}
.modal__title{font-size:16px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.modal__head-right{display:flex;align-items:center;gap:10px;}
.modal__body{
  padding:16px;
  overflow:auto;
  height:calc(100vh - 56px - 48px); /* approx header + topbar */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Middle list lines */
.emptyState{padding:14px 12px;color:var(--muted);font-size:13px;}
.mid-wrap{padding:10px 12px;}
.mid-block{margin-bottom:10px;}
.line{
  display:flex;align-items:center;gap:10px;
  padding:6px 0;
  border-bottom:1px solid rgba(48,54,61,.35);
}
.line:last-child{border-bottom:none;}
.line-left{display:flex;align-items:center;gap:10px;min-width:0;flex:1;}
.line-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.line-meta{display:flex;align-items:center;gap:10px;color:var(--muted);font-size:12px;white-space:nowrap;}
.chev{width:16px;text-align:center;color:var(--muted);user-select:none;}
.click{cursor:pointer;}
.click:hover{opacity:.95;}

/* Badges */
.badge{
  display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;
  border:1px solid var(--border);background:rgba(110,118,129,.12);
  font-size:12px;color:var(--muted);white-space:nowrap;
}
.badge--p1{color:#ffdcd7;border-color:rgba(248,81,73,.45);background:rgba(248,81,73,.12);}
.badge--p2{color:#ffe7b3;border-color:rgba(210,153,34,.55);background:rgba(210,153,34,.12);}
.badge--p3{color:#c7f0d8;border-color:rgba(63,185,80,.45);background:rgba(63,185,80,.12);}

/* Verdict badges (radius 4px, explicit palette) */
.badge--F{background-color:rgb(169, 196, 9);border-color:rgba(0,0,0,.2);color:#0d1117;border-radius:4px;font-weight:800;}
.badge--D{background-color:rgb(163, 16, 14);border-color:rgba(0,0,0,.2);color:#fff;border-radius:4px;font-weight:800;}
.badge--S{background-color:rgb(251, 232, 104);border-color:rgba(0,0,0,.2);color:#0d1117;border-radius:4px;font-weight:800;}
.badge--HM{background-color:rgb(211, 233, 244);border-color:rgba(0,0,0,.2);color:#0d1117;border-radius:4px;font-weight:800;}
.badge--PM{background-color:rgb(211, 189, 146);border-color:rgba(0,0,0,.2);color:#0d1117;border-radius:4px;font-weight:800;}
.badge--SO{background-color:rgb(20, 31, 53);border-color:rgba(0,0,0,.2);color:#fff;border-radius:4px;font-weight:800;}
.badge--neutral{color:#c9d1d9;border-color:rgba(88,166,255,.40);background:rgba(88,166,255,.08);border-radius:4px;font-weight:700;}

.prio-pill{
  display:inline-flex;align-items:center;justify-content:center;
  min-width:38px;
  padding:2px 8px;
  border-radius:4px;
  border:1px solid rgba(110,118,129,.45);
  background:rgba(110,118,129,.10);
  font-size:12px;
  color:var(--text);
  font-family:var(--mono);
}
.prio-pill:empty{border-color:transparent;background:transparent;}

/* Avis header + table only */
.avis-header{
  margin:6px 0 10px;
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
}
.avis-header table{width:100%;border-collapse:collapse;}
.avis-header th{
  padding:8px 10px;
  font-size:12px;color:var(--muted);
  background:rgba(22,27,34,.8);
  border-bottom:1px solid var(--border2);
  text-align:left;
}
.avis-table{width:100%;border-collapse:collapse;border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;}
.avis-table td{
  padding:8px 10px;
  border-bottom:1px solid var(--border2);
  vertical-align:top;
  font-size:12px;
}
.avis-table tr:last-child td{border-bottom:none;}
.avis-table tr:hover td{background:transparent;}
.ticket-msg{white-space:pre-wrap;}

/* Right panel: GitHub-issue-like thread + comment box */
.hr{height:1px;background:var(--border);margin:14px 0;}
.kv{display:grid;grid-template-columns:110px 1fr;gap:6px 10px;align-items:start;}
.kv .k{color:var(--muted);font-size:12px;}
.kv .v{font-size:13px;}
.mono-small{font-family:var(--mono);font-size:12px;color:var(--muted);}

/* Align all IDs in one vertical column */
.id-col{display:inline-block;min-width:140px;}

/* Disabled options look intentionally inactive */
select option:disabled{color:rgba(139,148,158,.6);}

/* Results head visually detached from the table below */
.gh-panel--results .gh-panel__head{
  border-bottom:none;
  margin-bottom:10px;
  border-radius:var(--radius);
}
.gh-panel--results #issuesTable{
  border:1px solid var(--border);
  border-radius:var(--radius);
}
.mid-wrap{padding:10px 12px;}

.thread{display:flex;flex-direction:column;gap:12px;}
.thread-item{border:1px solid var(--border);border-radius:var(--radius);background:rgba(22,27,34,.25);overflow:hidden;}
.thread-item__head{display:flex;justify-content:space-between;gap:12px;padding:10px 12px;border-bottom:1px solid rgba(48,54,61,.5);font-size:12px;color:var(--muted);}
.thread-item__body{padding:10px 12px;font-size:13px;white-space:pre-wrap;}

.comment-box{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;}
.comment-tabs{display:flex;gap:0;border-bottom:1px solid var(--border2);background:rgba(22,27,34,.6);}
.comment-tab{border:none;background:transparent;color:var(--muted);padding:8px 12px;cursor:pointer;font-size:13px;}
.comment-tab[aria-selected="true"]{color:var(--text);font-weight:700;}
.comment-editor{padding:10px 12px;}
.textarea{width:100%;min-height:120px;resize:vertical;padding:10px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg);color:var(--text);font-size:13px;outline:none;}
.textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,.15);}
.comment-preview{border:1px solid var(--border);border-radius:var(--radius);padding:10px 12px;min-height:120px;background:rgba(22,27,34,.25);}
.actions-row{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}

.gh-btn--success{background:rgba(63,185,80,.12);border-color:rgba(63,185,80,.35);}
.gh-btn--danger{background:rgba(248,81,73,.10);border-color:rgba(248,81,73,.35);}
.gh-btn--neutral{background:rgba(88,166,255,.08);border-color:rgba(88,166,255,.35);}

/* Footer */
.gh-footer{padding:10px 12px;display:flex;align-items:center;justify-content:space-between;gap:12px;}
.gh-counts{font-size:12px;color:var(--muted);}
.gh-pagination{display:inline-flex;align-items:center;gap:10px;}

/* === Disable background scroll when modal is open === */
body.modal-open {
  overflow: hidden;
}

